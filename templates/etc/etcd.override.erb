#[member]
env ETCD_NAME="<%= scope['etcd::etcd_name'] %>"
env ETCD_DATA_DIR="<%= scope['etcd::data_dir'] %>"
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::wal_dir']) -%>
env ETCD_WAL_DIR="<%= scope['etcd::wal_dir'] %>"
<% end -%>
env ETCD_SNAPSHOT_COUNT="<%= scope['etcd::snapshot_count'] %>"
env ETCD_HEARTBEAT_INTERVAL="<%= scope['etcd::heartbeat_interval'] %>"
env ETCD_ELECTION_TIMEOUT="<%= scope['etcd::election_timeout'] %>"
env ETCD_LISTEN_CLIENT_URLS="<%= Array(scope['etcd::listen_client_urls']).join(',') %>"
env ETCD_ADVERTISE_CLIENT_URLS="<%= Array(scope['etcd::advertise_client_urls']).join(',') %>"
env ETCD_MAX_SNAPSHOTS="<%= scope['etcd::max_snapshots'] %>"
env ETCD_MAX_WALS="<%= scope['etcd::max_wals'] %>"
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::cors']) -%>
env ETCD_CORS="<%= Array(scope['etcd::cors']).join(',') %>"
<% end -%>
#
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::real_proxy']) and scope['etcd::real_proxy'] != 'off' -%>
#[proxy]
env ETCD_PROXY="<%= scope['etcd::real_proxy'] %>"
env ETCD_PROXY_FAILURE_WAIT="<%= scope['etcd::proxy_failure_wait'] %>"
env ETCD_PROXY_REFRESH_INTERVAL="<%= scope['etcd::proxy_refresh_interval'] %>"
env ETCD_PROXY_DIAL_TIMEOUT="<%= scope['etcd::proxy_dial_timeout'] %>"
env ETCD_PROXY_WRITE_TIMEOUT="<%= scope['etcd::proxy_write_timeout'] %>"
env ETCD_PROXY_READ_TIMEOUT="<%= scope['etcd::proxy_read_timeout'] %>"
#
<% end -%>
<% if scope['etcd::cluster_enabled'] %>
#[cluster]
env ETCD_LISTEN_PEER_URLS="<%= Array(scope['etcd::listen_peer_urls']).join(',') %>"
env ETCD_INITIAL_ADVERTISE_PEER_URLS="<%= Array(scope['etcd::initial_advertise_peer_urls']).join(',') %>"
env ETCD_INITIAL_CLUSTER="<%= Array(scope['etcd::initial_cluster']).join(',') %>"
env ETCD_INITIAL_CLUSTER_STATE="<%= scope['etcd::initial_cluster_state'] %>"
env ETCD_INITIAL_CLUSTER_TOKEN="<%= scope['etcd::initial_cluster_token'] %>"
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::discovery']) -%>
env ETCD_DISCOVERY="<%= scope['etcd::discovery'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::discovery_srv']) -%>
env ETCD_DISCOVERY_SRV="<%= scope['etcd::discovery_srv'] %>"
<% end -%>
env ETCD_DISCOVERY_FALLBACK="<%= scope['etcd::discovery_fallback'] %>"
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::discovery_proxy']) -%>
env ETCD_DISCOVERY_PROXY="<%= scope['etcd::discovery_proxy'] %>"
<% end -%>
env ETCD_STRICT_RECONFIG_CHECK=<%= scope['etcd::strict_reconfig_check'] %>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::auto_compaction_retention']) -%>
env ETCD_AUTO_COMPACTION_RETENTION="<%= scope['etcd::auto_compaction_retention'] %>"
<% end -%>
#
<% end %>
#[security]
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::cert_file']) -%>
env ETCD_CERT_FILE="<%= scope['etcd::cert_file'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::key_file']) -%>
env ETCD_KEY_FILE="<%= scope['etcd::key_file'] %>"
<% end -%>
env ETCD_CLIENT_CERT_AUTH=<%= scope['etcd::client_cert_auth'] %>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::trusted_ca_file']) -%>
env ETCD_TRUSTED_CA_FILE="<%= scope['etcd::trusted_ca_file'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::auto_tls']) -%>
env ETCD_AUTO_TLS="<%= scope['etcd::auto_tls'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::peer_cert_file']) -%>
env ETCD_PEER_CERT_FILE="<%= scope['etcd::peer_cert_file'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::peer_key_file']) -%>
env ETCD_PEER_KEY_FILE="<%= scope['etcd::peer_key_file'] %>"
<% end -%>
env ETCD_PEER_CLIENT_CERT_AUTH=<%= scope['etcd::peer_client_cert_auth'] %>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::peer_trusted_ca_file']) -%>
env ETCD_PEER_TRUSTED_CA_FILE="<%= scope['etcd::peer_trusted_ca_file'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::peer_auto_tls']) -%>
env ETCD_PEER_AUTO_TLS="<%= scope['etcd::peer_auto_tls'] %>"
<% end -%>
#
#[logging]
env ETCD_DEBUG=<%= scope['etcd::debug'] %>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::log_package_levels']) -%>
env ETCD_LOG_PACKAGE_LEVELS="<%= scope['etcd::log_package_levels'] %>"
<% end -%>
